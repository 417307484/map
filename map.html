<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
		body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
	</style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=CknR5vpKXMLos9jMWR584PF9wGBuqs1E"></script>
	<title>添加行政区划</title>
</head>
<body>
	<div id="allmap"></div>
</body>
</html>
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");
	map.centerAndZoom(new BMap.Point(121.12975, 31.45911), 5);
    map.addControl(new BMap.ScaleControl());
    map.addControl(new BMap.OverviewMapControl());
    map.addControl(new BMap.NavigationControl({
        type:BMAP_NAVIGATION_CONTROL_LARGE,
        anchor:BMAP_ANCHOR_TOP_LEFT,
        offset:new BMap.Size(40,250)
    }));
	map.enableScrollWheelZoom();

	function getBoundary(){       
		var bdary = new BMap.Boundary();
		bdary.get("江苏省苏州市太仓市", function(rs){       //获取行政区域
			map.clearOverlays();        //清除地图覆盖物       
            var paths = new Array();
         //行政区域点集合，以;分隔的
      var pointliststr = rs.boundaries[0];
      //3获取点数组，push到 paths中
        var pointlist = pointliststr.split(";");
        var firstPoint;
          for(var i =0;i<pointlist.length;i++)
          {
                  
              var tempPt = pointlist[i].split(',');
              var newPoint = new BMap.Point(tempPt[0],tempPt[1]);
              if(i==0){ firstPoint= newPoint;};
          
            paths.push(newPoint);
        }
          //第一点再推进去，形成一个闭环，构造了多边形的内环
        paths.push(firstPoint);
        
        //自定义的八个便捷点，从东开始逆时针，东，东北，北，西北，西，西南，南，东南（必须按顺序来）
              paths.push(new BMap.Point(170.672126, 39.623555));
            paths.push(new BMap.Point(170.672126, 81.291804));
            paths.push(new BMap.Point(105.913641, 81.291804));
            paths.push(new BMap.Point(-169.604276,  81.291804));
            paths.push(new BMap.Point(-169.604276, 39.623555));
            paths.push(new BMap.Point(-169.604276, -68.045308));
            paths.push(new BMap.Point(105.913641, -68.045308));
            paths.push(new BMap.Point(170.672126, -68.045308));
              paths.push(new BMap.Point(170.672126, 39.623555));
 //4绘制第一个多边形，覆盖住除行政区外的所有部分,fillColor:填充色，strokeColor：边界颜色（设置透明，否则会有其他线条），strokeOpacity：线条透明，fillOpacity：填充物透明。
            var ply1 = new BMap.Polygon("",{
                strokeColor:'transparent',
                fillColor:'#00f',
                fillOpacity:0,
                strokeOpacity:0
            });
            ply1.setPath(paths);
            map.addOverlay(ply1);

              var ply = new BMap.Polygon(rs.boundaries[0],{
                  strokeWeight:2,
                  strokeColor:'#ff0000',
                  fillColor:''
              });
              map.addOverlay(ply);
              map.setViewport(ply.getPath());
		});   
	}

	setTimeout(function(){
		getBoundary();
	}, 2000);

</script>
